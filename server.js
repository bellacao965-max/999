import express from 'express';import fetch from 'node-fetch';import cors from 'cors';const app=express();app.use(cors());app.use(express.json());app.post('/api/ai', async (req,res)=>{try{const key=process.env.OPENAI_KEY; if(!key) return res.status(500).json({error:'OPENAI_KEY not set'}); const {message}=req.body; const r=await fetch('https://api.openai.com/v1/responses',{method:'POST',headers:{'Content-Type':'application/json','Authorization':'Bearer '+key},body:JSON.stringify({model:'gpt-4o-mini',input:message})}); const j=await r.json(); const reply=j.output_text||j.output?.[0]?.content||JSON.stringify(j); res.json({reply});}catch(e){res.status(500).json({error:e.message})}});const PORT=process.env.PORT||3000;app.listen(PORT,()=>console.log('Server listening on',PORT));